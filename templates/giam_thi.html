<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Trang GiÃ¡m Thá»‹ â€“ Ghi Nháº­n</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #f8f9fa; }
    .container { padding: 30px; }
    h2, h4 { margin-bottom: 20px; }
    table th, table td { vertical-align: middle !important; }
    .btn-sm { font-size: 0.8rem; }
  </style>
</head>
<body>
<div class="container">
  <h2 class="text-center text-primary mb-4">ğŸ§‘â€ğŸ« Trang GiÃ¡m Thá»‹ â€“ Tuáº§n {{ tuan }}</h2>

  <!-- NÃºt ghi nháº­n -->
  <div class="mb-4 d-flex justify-content-end gap-2">
    <a href="{{ url_for('add_hoc_tap_gt') }}" class="btn btn-success">â• Ghi nháº­n Há»c Táº­p</a>
    <a href="{{ url_for('add_noi_quy_gt') }}" class="btn btn-danger">â• Ghi nháº­n Vi Pháº¡m</a>
  </div>

  <!-- Báº£ng Há»c Táº­p -->
  <h4 class="text-success">ğŸ“˜ Danh sÃ¡ch Há»c Táº­p</h4>
  {% if study_data %}
  <div class="table-responsive mb-4">
    <table class="table table-bordered table-striped align-middle">
      <thead class="table-success">
        <tr>
          <th>Lá»›p</th>
          <th>Giá» A</th><th>Giá» B</th><th>Giá» C</th><th>Giá» D</th>
          <th>Äáº¡t Kiá»ƒu Máº«u</th><th>Tá»•ng Äiá»ƒm</th><th>Tuáº§n</th><th>XÃ³a</th>
        </tr>
      </thead>
      <tbody>
        {% for item in study_data %}
        <tr>
          <td>{{ item.lop }}</td>
          <td>{{ item.gio_a }}</td>
          <td>{{ item.gio_b }}</td>
          <td>{{ item.gio_c }}</td>
          <td>{{ item.gio_d }}</td>
          <td>{{ item.dat_kieu_mau }}</td>
          <td>{{ item.tong_diem }}</td>
          <td>{{ item.tuan }}</td>
          <td>
            <form method="post">
              <input type="hidden" name="data_id" value="{{ item.id }}">
              <input type="hidden" name="data_type" value="study">
              <button name="delete_data" class="btn btn-sm btn-danger" onclick="return confirm('XÃ³a má»¥c nÃ y?')">ğŸ—‘</button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
    <p class="text-muted">KhÃ´ng cÃ³ dá»¯ liá»‡u há»c táº­p cho tuáº§n nÃ y.</p>
  {% endif %}

  <!-- Báº£ng Vi Pháº¡m -->
  <h4 class="text-danger">ğŸ“• Danh sÃ¡ch Vi Pháº¡m Ná»™i Quy</h4>
  {% if rules_data %}
  <div class="table-responsive mb-4">
    <table class="table table-bordered table-striped align-middle">
      <thead class="table-danger">
        <tr>
          <th>Lá»›p</th>
          <th>Ná»™i dung</th><th>Äiá»ƒm Trá»«</th><th>Sá»‘ lÆ°á»£t</th><th>Há»c sinh</th><th>Tá»•ng Ä‘iá»ƒm</th><th>Tuáº§n</th><th>XÃ³a</th>
        </tr>
      </thead>
      <tbody>
        {% for item in rules_data %}
        <tr>
          <td>{{ item.lop }}</td>
          <td>{{ item.noi_dung_vi_pham }}</td>
          <td>{{ item.diem_tru }}</td>
          <td>{{ item.so_luot_vi_pham }}</td>
          <td>{{ item.ten_hoc_sinh_vi_pham }}</td>
          <td>{{ item.tong_diem_vi_pham }}</td>
          <td>{{ item.tuan }}</td>
          <td>
            <form method="post">
              <input type="hidden" name="data_id" value="{{ item.id }}">
              <input type="hidden" name="data_type" value="rules">
              <button name="delete_data" class="btn btn-sm btn-danger" onclick="return confirm('XÃ³a má»¥c nÃ y?')">ğŸ—‘</button>
            </form>
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
  {% else %}
    <p class="text-muted">KhÃ´ng cÃ³ dá»¯ liá»‡u vi pháº¡m ná»™i quy cho tuáº§n nÃ y.</p>
  {% endif %}
</div>
</body>
</html>
